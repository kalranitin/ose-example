{
   "kind":"Template",
   "apiVersion":"v1",
   "metadata":{
      "name":"sample-webapp-template",
      "creationTimestamp":null,
      "annotations":{
         "description":"This example shows how to create a sample application in openshift origin v3"
      }
   },
   "objects":[
      {
         "kind":"Service",
         "apiVersion":"v1",
         "metadata":{
            "name":"${APP_SERVICE_NAME}",
            "creationTimestamp":null
         },
         "spec":{
            "ports":[
               {
                  "name":"sample-app-http",
                  "protocol":"TCP",
                  "port":5433,
                  "targetPort":8081,
                  "nodePort":0
               }
            ],
            "selector":{
               "name":"${APP_SERVICE_NAME}"
            },
            "portalIP":"",
            "type":"ClusterIP",
            "sessionAffinity":"None"
         },
         "status":{
            "loadBalancer":{

            }
         }
      },
      {
         "kind":"ImageStream",
         "apiVersion":"v1",
         "metadata":{
            "name":"kalranitin-java",
            "creationTimestamp":null
         },
         "spec":{
            "dockerImageRepository":"kalranitin/java"
         },
         "status":{
            "dockerImageRepository":""
         }
      },
      {
         "kind":"ImageStream",
         "apiVersion":"v1",
         "metadata":{
            "name":"sample-app",
            "creationTimestamp":null
         },
         "spec":{

         },
         "status":{
            "dockerImageRepository":""
         }
      },
      {
         "kind":"BuildConfig",
         "apiVersion":"v1",
         "metadata":{
            "name":"sample-appbuild",
            "creationTimestamp":null,
            "labels":{
               "name":"sample-appbuild"
            }
         },
         "spec":{
            "triggers":[
               {
                  "type":"github",
                  "github":{
                     "secret":"secret101"
                  }
               },
               {
                  "type":"generic",
                  "generic":{
                     "secret":"secret101"
                  }
               },
               {
                  "type":"imageChange",
                  "imageChange":{

                  }
               },
               {
                  "type":"ConfigChange"
               }
            ],
            "source":{
               "type":"Git",
               "git":{
                  "uri":"git@github-isl-01.ca.com:kalni03/ose-example.git"
               },
               "sourceSecret":{
                  "name":"scmsecret"
               }
            },
            "strategy":{
               "type":"Docker",
               "dockerStrategy":{
                  "dockerfilePath":"assignment/Dockerfile",
                  "env":[
                     {
                        "name":"EXAMPLE",
                        "value":"sample-app"
                     }
                  ]
               }
            },
            "output":{
               "to":{
                  "kind":"ImageStreamTag",
                  "name":"sample-app:latest"
               }
            },
            "resources":{

            }
         },
         "status":{
            "lastVersion":0
         }
      },
      {
         "kind":"DeploymentConfig",
         "apiVersion":"v1",
         "metadata":{
            "name":"sample-app-deployment",
            "creationTimestamp":null
         },
         "spec":{
            "strategy":{
               "type":"Rolling",
               "rollingParams":{
                  "updatePeriodSeconds":1,
                  "intervalSeconds":1,
                  "timeoutSeconds":120
               },
               "resources":{

               }
            },
            "triggers":[
               {
                  "type":"ImageChange",
                  "imageChangeParams":{
                     "automatic":true,
                     "containerNames":[
                        "sample-app-container"
                     ],
                     "from":{
                        "kind":"ImageStreamTag",
                        "name":"sample-app:latest"
                     },
                     "lastTriggeredImage":""
                  }
               },
               {
                  "type":"ConfigChange"
               }
            ],
            "replicas":1,
            "selector":{
               "name":"${APP_SERVICE_NAME}"
            },
            "template":{
               "metadata":{
                  "creationTimestamp":null,
                  "labels":{
                     "name":"${APP_SERVICE_NAME}"
                  }
               },
               "spec":{
                  "containers":[
                     {
                        "name":"sample-app-container",
                        "image":"sample-app:latest",
                        "ports":[
                           {
                              "containerPort":8081,
                              "protocol":"TCP"
                           }
                        ],
                        "env":[
                           {
                              "name":"SAMPLE_APP_VERSION",
                              "value":"${SAMPLE_APP_VERSION}"
                           }
                        ],
                        "resources":{

                        },
                        "terminationMessagePath":"/dev/termination-log",
                        "imagePullPolicy":"IfNotPresent",
                        "capabilities":{

                        },
                        "securityContext":{
                           "capabilities":{

                           },
                           "privileged":false
                        }
                     }
                  ],
                  "restartPolicy":"Always",
                  "dnsPolicy":"ClusterFirst",
                  "serviceAccount":""
               }
            }
         },
         "status":{

         }
      }
   ],
   "parameters":[
      {
         "name":"SAMPLE_APP_VERSION",
         "description":"App Version",
         "value":"0.1"
      },
	  {
	     "name":"APP_SERVICE_NAME",
	     "value":"sample-app"
	  }
   ],
   "labels":{
      "template":"sample-application-template-dockerbuild"
   }
}